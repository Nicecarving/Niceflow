<!DOCTYPE html>
<html lang="es">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
Â  Â  <title>Chat Privado - SofÃ­a</title>
Â  Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
Â  Â  <style>Â 
Â  Â  Â  Â  * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
Â  Â  Â  Â  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; margin:0; background:#efe7dd; height: 100vh; overflow: hidden; display: flex; flex-direction: column; }
Â  Â  Â  Â  .header { background: #075e54; color: white; padding: 10px 15px; display: flex; align-items: center; justify-content: space-between; height: 60px; flex-shrink: 0; z-index: 100; }
Â  Â  Â  Â  .user-info { display: flex; align-items: center; }
Â  Â  Â  Â  .back-arrow { margin-right: 10px; font-size: 18px; }
Â  Â  Â  Â  .avatar { width: 42px; height: 42px; border-radius: 50%; margin-right: 10px; object-fit: cover; border: 1px solid rgba(255,255,255,0.2); }
Â  Â  Â  Â  .name-container { display: flex; flex-direction: column; }
Â  Â  Â  Â  .name { font-weight: 600; font-size: 16px; }
Â  Â  Â  Â  .status { font-size: 12px; color: #dcf8c6; }
Â  Â  Â  Â  .chat-container { flex: 1; overflow-y: auto; padding: 15px; background-color: #e5ddd5; background-image: url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png'); display: flex; flex-direction: column; }
Â  Â  Â  Â  .msg { margin-bottom: 12px; padding: 8px 12px; border-radius: 12px; max-width: 85%; font-size: 15px; position: relative; box-shadow: 0 1px 2px rgba(0,0,0,0.15); animation: fadeIn 0.3s ease; }
Â  Â  Â  Â  @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
Â  Â  Â  Â  .bot { background: white; align-self: flex-start; border-top-left-radius: 0; color: #000; }
Â  Â  Â  Â  .user { background: #dcf8c6; align-self: flex-end; border-top-right-radius: 0; color: #000; }
Â  Â  Â  Â  .time { font-size: 10px; color: #888; text-align: right; margin-top: 4px; }
Â  Â  Â  Â  .check { color: #4fc3f7; margin-left: 2px; }
Â  Â  Â  Â  .input-bar { background: #f0f0f0; padding: 8px; display: none; align-items: center; min-height: 60px; border-top: 1px solid #ddd; }
Â  Â  Â  Â  .input-wrapper { background: white; flex: 1; border-radius: 25px; padding: 8px 15px; display: flex; align-items: center; }
Â  Â  Â  Â  input { border: none; flex: 1; outline: none; font-size: 16px; background: transparent; }
Â  Â  Â  Â  .send-btn { background: #075e54; color: white; width: 45px; height: 45px; border-radius: 50%; border: none; margin-left: 8px; display: flex; align-items: center; justify-content: center; font-size: 18px; }
Â  Â  Â  Â  .typing { color: #555; font-size: 13px; margin: 5px 0 15px 0; display: none; font-style: italic; }
Â  Â  </style>
</head>
<body>

<div class="header" onclick="goToOffer()">
Â  Â  <div class="user-info">
Â  Â  Â  Â  <i class="fas fa-arrow-left back-arrow"></i>
Â  Â  Â  Â  <img src="https://i.imgur.com/rwrGcVF.jpg" class="avatar" id="avatarImg">
Â  Â  Â  Â  <div class="name-container">
Â  Â  Â  Â  Â  Â  <span class="name">SofÃ­a âœ¨</span>
Â  Â  Â  Â  Â  Â  <span class="status">en lÃ­nea ahora</span>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â  <div class="header-icons">
Â  Â  Â  Â  <i class="fas fa-video" style="margin-right: 15px; opacity: 0.8;"></i>
Â  Â  Â  Â  <i class="fas fa-phone" style="opacity: 0.8;"></i>
Â  Â  </div>
</div>

<div class="chat-container" id="chat">
Â  Â  <div class="typing" id="typingIndicator">SofÃ­a estÃ¡ escribiendo...</div>
</div>

<div class="input-bar" id="inputBar">
Â  Â  <div class="input-wrapper">
Â  Â  Â  Â  <i class="far fa-smile" style="color: #999; margin-right: 10px;"></i>
Â  Â  Â  Â  <input type="text" id="userInput" placeholder="Escribe un mensaje...">
Â  Â  Â  Â  <i class="fas fa-paperclip" style="color: #999; margin-left: 10px;"></i>
Â  Â  </div>
Â  Â  <button class="send-btn" onclick="sendMsg()"><i class="fas fa-paper-plane"></i></button>
</div>

<script>
Â  Â  const chat = document.getElementById('chat');
Â  Â  const inputBar = document.getElementById('inputBar');
Â  Â  const typing = document.getElementById('typingIndicator');

Â  Â  const startTime = performance.now();

Â  Â  const params = new URLSearchParams(window.location.search);
Â  Â  const city = params.get('city') || 'Ecuador';

Â  Â  const script = [
Â  Â  Â  Â  { t: `Â¡Hola! ğŸ‘‹ Te vi aquÃ­ en la app... eres de ${city}, verdad? ğŸ˜Š`, d: 1200 },
Â  Â  Â  Â  { t: "Me llamo SofÃ­a. ReciÃ©n me mudÃ© y busco alguien interesante para charlar o conocernos mejor â¤ï¸", d: 2200 },
Â  Â  Â  Â  { t: "Te parece si nos conocemos? Dime algo de ti... ğŸ˜„", d: 1800 }
Â  Â  ];

Â  Â  let step = 0;

Â  Â  function vibe() {
Â  Â  Â  Â  if ("vibrate" in navigator) navigator.vibrate([50]);
Â  Â  }

Â  Â  function addMsg(text, isUser = false) {
Â  Â  Â  Â  const d = new Date();
Â  Â  Â  Â  const time = d.getHours() + ":" + (d.getMinutes() < 10 ? '0' : '') + d.getMinutes();
Â  Â  Â  Â  const div = document.createElement('div');
Â  Â  Â  Â  div.className = `msg ${isUser ? 'user' : 'bot'}`;
Â  Â  Â  Â  div.innerHTML = `${text} <div class="time">${time} ${isUser ? '<span class="check">âœ“âœ“</span>' : ''}</div>`;
Â  Â  Â  Â  chat.insertBefore(div, typing);
Â  Â  Â  Â  chat.scrollTop = chat.scrollHeight;
Â  Â  Â  Â  if(!isUser) vibe();
Â  Â  }

Â  Â  function runScript() {
Â  Â  Â  Â  if (step < script.length) {
Â  Â  Â  Â  Â  Â  typing.style.display = 'block';
Â  Â  Â  Â  Â  Â  chat.scrollTop = chat.scrollHeight;
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  typing.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  addMsg(script[step].t);
Â  Â  Â  Â  Â  Â  Â  Â  step++;
Â  Â  Â  Â  Â  Â  Â  Â  if (step < script.length) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(runScript, script[step].d);
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  inputBar.style.display = 'flex';
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }, 1500);
Â  Â  Â  Â  }
Â  Â  }

Â  Â  function sendMsg() {
Â  Â  Â  Â  const input = document.getElementById('userInput');
Â  Â  Â  Â  const val = input.value.trim();
Â  Â  Â  Â  if(val) {
Â  Â  Â  Â  Â  Â  addMsg(val, true);
Â  Â  Â  Â  Â  Â  input.value = '';
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  typing.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  chat.scrollTop = chat.scrollHeight;
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  typing.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  addMsg("Â¡Genial! ğŸ˜ Vamos a mi perfil para seguir sin restricciones ğŸ”¥");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(goToOffer, 2500);
Â  Â  Â  Â  Â  Â  Â  Â  }, 2000);
Â  Â  Â  Â  Â  Â  }, 1000);
Â  Â  Â  Â  }
Â  Â  }

Â  Â  function goToOffer() {
Â  Â  Â  Â  const timeSpent = Math.floor((performance.now() - startTime) / 1000);
Â  Â  Â  Â  const offerLink = "https://fwziv.bemobtrk.com/click";
Â  Â  Â  Â  const currentParams = window.location.search;
Â  Â  Â  Â  window.location.href = offerLink + currentParams + "&s1=" + timeSpent + "&var=mobile_chat_2026";
Â  Â  }

Â  Â  history.pushState(null, null, location.href);
Â  Â  window.onpopstate = function () {
Â  Â  Â  Â  goToOffer();
Â  Â  };

Â  Â  window.onload = runScript;
</script>
</body>
</html>
